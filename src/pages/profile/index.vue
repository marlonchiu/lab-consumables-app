<template>
  <view class="min-h-screen bg-gray-50">
    <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
    <view
      class="user-header bg-gradient-to-br from-primary-500 to-primary-600 p-8 text-center text-white relative overflow-hidden"
    >
      <view class="absolute -top-8 -right-8 w-32 h-32 bg-white bg-opacity-10 rounded-full"></view>
      <view class="relative z-10">
        <view
          class="avatar w-20 h-20 bg-white bg-opacity-20 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-3xl backdrop-blur-sm"
        >
          ğŸ‘¨â€ğŸ”¬
        </view>
        <text class="user-name text-xl font-semibold mb-1 block">å¼ åšå£«</text>
        <text class="user-info text-sm opacity-90">ç”Ÿç‰©åŒ»å­¦å·¥ç¨‹å®éªŒå®¤ Â· åšå£«ç ”ç©¶ç”Ÿ</text>
      </view>
    </view>

    <!-- åŠŸèƒ½èœå• -->
    <view class="menu-list mt-4">
      <view
        v-for="item in menuItems"
        :key="item.id"
        class="menu-item bg-white mb-3 mx-4 p-5 rounded-2xl shadow-soft flex items-center hover:shadow-medium transition-all duration-300"
        @tap="handleMenuTap(item)"
      >
        <view class="menu-icon w-12 h-12 bg-primary-50 rounded-xl flex items-center justify-center mr-4">
          <text class="text-xl">{{ item.icon }}</text>
        </view>
        <view class="menu-content flex-1">
          <text class="menu-title text-base font-semibold mb-1 block text-gray-800">{{ item.title }}</text>
          <text class="menu-desc text-xs text-gray-600">{{ item.description }}</text>
        </view>
        <view v-if="item.badge" class="badge bg-primary-500 text-white text-xs px-2 py-1 rounded-full mr-3">
          {{ item.badge }}
        </view>
        <text class="arrow text-primary-500 text-lg font-bold">â€º</text>
      </view>
    </view>

    <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
    <view class="logout-section p-5 mt-8">
      <van-button
        block
        round
        plain
        type="default"
        class="!border-gray-300 !text-gray-600 !h-12 hover:!bg-gray-50"
        @click="logout"
      >
        é€€å‡ºç™»å½•
      </van-button>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// èœå•é¡¹æ•°æ®
const menuItems = ref([
  {
    id: 1,
    icon: 'ğŸ“‹',
    title: 'æˆ‘çš„ç”³è¯·',
    description: 'æŸ¥çœ‹ç”³è¯·å†å²å’ŒçŠ¶æ€',
    badge: null
  },
  {
    id: 2,
    icon: 'ğŸ“Š',
    title: 'ä½¿ç”¨ç»Ÿè®¡',
    description: 'æŸ¥çœ‹è¯•å‰‚ä½¿ç”¨è®°å½•',
    badge: null
  },
  {
    id: 3,
    icon: 'ğŸ””',
    title: 'æ¶ˆæ¯ä¸­å¿ƒ',
    description: 'å®¡æ‰¹é€šçŸ¥å’Œç³»ç»Ÿæ¶ˆæ¯',
    badge: '3'
  },
  {
    id: 4,
    icon: 'âš™ï¸',
    title: 'ç³»ç»Ÿè®¾ç½®',
    description: 'é€šçŸ¥è®¾ç½®å’Œè´¦æˆ·ç®¡ç†',
    badge: null
  }
])

const handleMenuTap = (item: any) => {
  console.log('ç‚¹å‡»èœå•:', item.title)

  switch (item.id) {
    case 1:
      uni.showToast({
        title: 'æˆ‘çš„ç”³è¯·åŠŸèƒ½',
        icon: 'none'
      })
      break
    case 2:
      uni.showToast({
        title: 'ä½¿ç”¨ç»Ÿè®¡åŠŸèƒ½',
        icon: 'none'
      })
      break
    case 3:
      uni.showToast({
        title: 'æ¶ˆæ¯ä¸­å¿ƒåŠŸèƒ½',
        icon: 'none'
      })
      break
    case 4:
      uni.showToast({
        title: 'ç³»ç»Ÿè®¾ç½®åŠŸèƒ½',
        icon: 'none'
      })
      break
  }
}

const logout = () => {
  uni.showModal({
    title: 'ç¡®è®¤é€€å‡º',
    content: 'ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ',
    success: (res) => {
      if (res.confirm) {
        uni.showToast({
          title: 'é€€å‡ºæˆåŠŸ',
          icon: 'success'
        })
        // è¿™é‡Œå¯ä»¥æ·»åŠ é€€å‡ºç™»å½•çš„é€»è¾‘
      }
    }
  })
}
</script>

<style scoped>
.menu-item {
  transition: all 0.3s ease;
}

.menu-item:active {
  transform: translateY(-1px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.arrow {
  font-size: 18px;
  font-weight: bold;
}
</style>
